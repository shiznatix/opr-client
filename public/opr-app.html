<link rel="import" href="/elements/opr-elements.html">

<dom-module id="opr-app">
	<template>
		<style include="opr-shared-styles">
			paper-drawer-panel {
				--paper-drawer-panel-left-drawer-container: {
					background-color: var(--paper-blue-grey-700);
				};
			}

			.navItem {
				height: 8vh;
				line-height: 8vh;
				font-size: 5vw;
				padding: 2vw;
				border-bottom: 1px solid var(--paper-blue-grey-900);
			}
			.navSelected {
				background-color: var(--paper-blue-grey-800);
			}

			paper-scroll-header-panel {
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
				background-color: var(--paper-blue-grey-900);
			}

			paper-toolbar {
				color: var(--paper-blue-200);
				background-color: var(--paper-blue-900);
			}

			#appIcon {
				--iron-icon-fill-color: var(--paper-blue-900);
				--iron-icon-stroke-color: var(--paper-blue-200);
				margin-right: 3vw;
			}

			#toolbarTitle {
				font-size: 5vw;
			}

			iron-pages {
				height: 100%;
			}
		</style>

		<iron-location path="{{path}}"></iron-location>

		<paper-drawer-panel id="paperDrawerPanel" disable-edge-swipe force-narrow>
			<div drawer>
				<div on-tap="onNavTap" class="text navItem" id="navRemote" data-path="/">
					<iron-icon icon="icons:settings-remote"></iron-icon>
					Remote
				</div>
				<div on-tap="onNavTap" class="text navItem" id="navBrowse" data-path="/browse">
					<iron-icon icon="icons:folder"></iron-icon>
					Browse
				</div>
				<div on-tap="onNavTap" class="text navItem" id="navRandomSettings" data-path="random-settings">
					<iron-icon icon="icons:settings"></iron-icon>
					Random settings
				</div>
			</div>

			<div main>
				<paper-scroll-header-panel fixed>
					<paper-toolbar id="toolbar">
						<iron-icon icon="notification:ondemand-video" id="appIcon" paper-drawer-toggle on-tap="appIconTapped"></iron-icon>

						<h1 id="toolbarTitle">OMX Remote</h1>
					</paper-toolbar>

					<iron-pages
						selected="[[path]]"
						attr-for-selected="name"
						role="main">

						<opr-remote name="/"></opr-remote>
						<opr-random-settings name="/random-settings"></opr-random-settings>
						<opr-browse name="/browse"></opr-browse>
					</iron-pages>
				</paper-scroll-header-panel>
			</div>
		</paper-drawer-panel>
	</template>
	<script>
		Polymer({
			is: 'opr-app',

			properties: {
				path: {
					type: String,
					observer: 'pathChanged',
				},
			},

			pathChanged: function() {
				this.toggleClass('navSelected', ('/' === this.path), this.$.navRemote);
				this.toggleClass('navSelected', ('/browse' === this.path), this.$.navBrowse);
				this.toggleClass('navSelected', ('/random-settings' === this.path), this.$.navRandomSettings);
			},

			appIconTapped: function() {
			},

			onNavTap: function(e) {
				const newPath = e.target.getAttribute('data-path');

				this.path = newPath;
				this.$.paperDrawerPanel.closeDrawer();
			},
		});
	</script>
</dom-module>